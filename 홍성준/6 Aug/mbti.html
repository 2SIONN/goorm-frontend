<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>MBTI Í≤ÄÏÇ¨</title>
  <style>
    body {
      max-width: 700px;
      margin: 40px auto;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 40px;
    }

    .question {
      background: #f9f9f9;
      padding: 20px;
      margin-bottom: 25px;
      border: 1px solid #ddd;
      border-radius: 10px;
      text-align: center;
    }

    .question p {
      font-size: 18px;
      margin-bottom: 15px;
    }

    .options {
      display: flex;
      gap: 20px;
      justify-content: center;
    }

    .option {
      display: inline-block;
    }

    input[type="radio"] {
      display: none;
    }

    label {
      display: inline-block;
      padding: 12px 24px;
      background-color: #a957c2;
      color: white;
      border-radius: 8px;
      cursor: pointer;
      user-select: none;
    }

    input[type="radio"]:checked+label {
      background-color: #e03f65;
    }

    #result {
      margin: 40px 0;
      font-size: 20px;
      text-align: center;
      font-weight: bold;
    }
  </style>
</head>

<body>

  <h1>üß† MBTI Í∞ÑÎã® Í≤ÄÏÇ¨</h1>
  <div id="result"></div>
  <div id="quiz"></div>

  <script>
    const questions = {
      q1: { text: "Í≥†Îì±ÌïôÍµêÏóêÏÑú Ïú†Î™ÖÌñàÎÇòÏöî?", a: "E", b: "I" },  // EI
      q2: { text: "Ïö¥Îèô(Ïä§Ìè¨Ï∏†)Î•º ÌïòÎÇòÏöî?", a: "S", b: "N" },   // SN
      q3: { text: "ÏàòÌïôÏùÑ ÏûòÌïòÎÇòÏöî?", a: "T", b: "F" },        // TF
      q4: { text: "ÏßÄÍ∏à Î∞©Ïù¥ Íπ®ÎÅóÌïúÍ∞ÄÏöî?", a: "J", b: "P" }     // JP
    };

    const mbtiType = [
      ['E', 'I'],
      ['N', 'S'],
      ['F', 'T'],
      ['P', 'J'],
    ];

    const answers = {}; // ÏÇ¨Ïö©ÏûêÏùò ÏùëÎãµÏùÑ Ï†ÄÏû•Ìï† Í∞ùÏ≤¥
    // Í∞Å MBTI Ìï≠Î™© ÏÑ†ÌÉù Ïãú Ï†êÏàò Ï¶ùÍ∞Ä (Ìï≠Î™©Ïù¥ ÎßéÏïÑÏßà Í≤ΩÏö∞ Ïú†Ïö©!)
    // const score = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
    const quizEl = document.getElementById("quiz");
    const resultEl = document.getElementById("result");

    quizEl.addEventListener('change', (e) => {
      const { name, value } = e.target;
      answers[name] = value;
      if (Object.keys(answers).length === Object.keys(questions).length) showResult();
    });

    function renderQuestions() {
      // Object.entries
      // Object.keys
      // Î™®Îì† ÏßàÎ¨∏Ïóê ÏùëÎãµ ÏôÑÎ£åÌïòÎ©¥ Í≤∞Í≥º ÌëúÏãú

      Object.entries(questions).forEach(([qName, qContent]) => {
        const div = document.createElement('div');
        div.className = 'question';
        div.innerHTML = `
          <p>${qName.toUpperCase()}. ${qContent.text}</p>
          <div class='options'>
            <div class='option'>
              <input type="radio" id=${qName}-a name=${qName} value=${qContent.a} />
              <label for=${qName}-a>Yes</label>
            </div>
            <div class='option'>
              <input type="radio" id=${qName}-b name=${qName} value=${qContent.b} />
              <label for=${qName}-b>No</label>
            </div>
          </div>
        `;
        quizEl.appendChild(div);
      });
    }

    function showResult() {
      // Object.values
      // ÏÇ¨Ïö©Ïûê ÏùëÎãµÏùÑ Î∞òÎ≥µÌïòÎ©∞ Ìï¥Îãπ ÏßÄÌëúÏùò Ï†êÏàò Ï¶ùÍ∞Ä
      // Í∞ùÏ≤¥ Ïû¨Íµ¨ÏÑ±ÏùÑ ÏúÑÌï¥ entries ‚Üí fromEntries ÏÇ¨Ïö©
      const score = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
      // Object.values(answers).forEach((answer) => score[answer]++);
      // const newScore = Object.fromEntries(Object.entries(score));
      Object.values(answers).forEach((answer) => score[answer]++);
      const result = mbtiType.reduce((acc, [first, second]) => acc += score[first] > score[second] ? first : second, '');
      resultEl.textContent = `üß† ÎãπÏã†Ïùò MBTIÎäî ${result}ÏûÖÎãàÎã§.`;
    }

    renderQuestions();

  </script>
</body>

</html>
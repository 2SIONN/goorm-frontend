# git conflict

날짜: 2025년 7월 21일

## ✅ 1️⃣ git conflict란?

**Git 충돌(conflict)** 은 **서로 다른 사람이 같은 파일의 같은 부분을 동시에 수정**했을 때 발생합니다.

> Git은 스스로 어느 코드가 맞는지 판단할 수 없어서 사용자가 직접 해결해야 합니다.
> 

---

## ✅ 2️⃣ 언제 발생할까?

| 상황 | 설명 |
| --- | --- |
| `git merge` | 브랜치 병합 시 같은 파일의 같은 줄 수정 시 발생 |
| `git rebase` | 커밋 히스토리 재정렬 중 코드 겹침 발생 |
| `git cherry-pick` | 특정 커밋을 적용할 때 기존 코드와 충돌 발생 |

---

## ✅ 3️⃣ 충돌 예시

- **현재 브랜치 코드**

```
console.log("Hello, world!");

```

- **병합할 브랜치 코드**

```
console.log("Hello, everyone!");

```

**병합 시, Git은 이렇게 충돌 표시를 남깁니다:**

```
<<<<<<< HEAD
console.log("Hello, world!");
=======
console.log("Hello, everyone!");
>>>>>>> feature

```

- `<<<<<<< HEAD` : 현재 브랜치 코드
- `=======` : 구분선
- `>>>>>>> 브랜치이름` : 병합할 브랜치 코드

---

## ✅ 4️⃣ 충돌 해결 방법

1. 파일을 열고, 원하는 코드를 선택하거나 직접 수정합니다.

예시 (수정 후):

```
console.log("Hello, everyone!");   // 선택한 코드

```

1. 충돌 마크(`<<<<<<<`, `=======`, `>>>>>>>`)를 모두 삭제합니다.
2. 다음과 같이 충돌 해결을 완료합니다:

```bash
git add 파일명        # 충돌 해결 후 파일 스테이지에 올리기
git commit            # 병합 커밋 완료

```

---

## ✅ 5️⃣  충돌을 피하는 팁

- 같은 파일, 같은 부분을 동시에 수정하지 않도록 작업 분배
- 브랜치를 작게 나누고 자주 병합하기
- 중요 브랜치는 읽기 전용으로 관리하기

---

## 🔆 git `-conflict` 옵션 정리

## ✅ `git merge --conflict`란?

> 병합(merge) 중 충돌(conflict)이 발생했을 때, Git이 충돌 부분을 어떤 형식으로 표시할지 설정하는 옵션
> 

---

## ✅ 사용법

```bash
git merge 브랜치이름 --conflict=옵션

```

### 선택 가능한 옵션:

| 옵션 | 설명 |
| --- | --- |
| `--conflict=merge` | 표준 충돌 표시 형식 (기본값) |
| `--conflict=diff3` | 공통 조상(베이스) 코드까지 함께 보여줌 |

---

## ✅ 차이점 예시

### ▶️ 1. `-conflict=merge` (기본값)

```
<<<<<<< HEAD
내 코드
=======
상대방 코드
>>>>>>> feature

```

- 현재 브랜치 코드와 병합 대상 코드만 보여줌

---

### ▶️ 2. `-conflict=diff3`

```
<<<<<<< HEAD
내 코드
||||||| base
공통 조상 코드
=======
상대방 코드
>>>>>>> feature

```

- **공통 조상 코드**도 함께 보여줘서 충돌 원인을 쉽게 파악할 수 있음

---

## ✅ 언제 사용하나요?

- 충돌이 복잡한 경우
- 공통 조상과 현재/상대방 코드를 비교하면서 정확하게 병합하고 싶을 때
- 협업 중 충돌 해결을 더 명확히 하고 싶을 때

> ✅ 이런 경우 --conflict=diff3 추천
> 

---

## ✅ 사용 예시

```bash
# 표준 방식 (기본값)
git merge feature

# 공통 조상까지 보이게 하기
git merge feature --conflict=diff3

```

---

## 📊 요약

| 옵션 | 표시 방식 |
| --- | --- |
| `--conflict=merge` | 내 코드 vs 상대방 코드 |
| `--conflict=diff3` | 내 코드 vs 공통 조상 코드 vs 상대방 코드 (3개 비교) |

---

## 🎯 결론

> git merge --conflict=diff3 는
> 
> 
> **복잡한 충돌을 더 쉽게 이해하고 해결할 수 있도록 시각적 도움을 주는 옵션입니다.**
>
<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>MBTI ê²€ì‚¬</title>
  <style>
    body {
      max-width: 700px;
      margin: 40px auto;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 40px;
    }

    .question {
      background: #f9f9f9;
      padding: 20px;
      margin-bottom: 25px;
      border: 1px solid #ddd;
      border-radius: 10px;
    }

    .question p {
      font-size: 18px;
      margin-bottom: 15px;
    }

    .options {
      display: flex;
      gap: 20px;
      justify-content: center;
    }

    .option {
      display: inline-block;
    }

    input[type="radio"] {
      display: none;
    }

    label {
      display: inline-block;
      padding: 12px 24px;
      background-color: #a957c2;
      color: white;
      border-radius: 8px;
      cursor: pointer;
      user-select: none;
    }

    input[type="radio"]:checked+label {
      background-color: #e03f65;
    }

    #result {
      margin: 40px 0;
      font-size: 20px;
      text-align: center;
      font-weight: bold;
    }
  </style>
</head>

<body>

  <h1>ğŸ§  MBTI ê°„ë‹¨ ê²€ì‚¬</h1>
  <div id="result"></div>
  <div id="quiz"></div>

  <script>
    const questions = {
      q1: { text: "ì˜¤ëŠ˜ ê°‘ìê¸° ì¹œêµ¬ê°€ ì „í™”ì™€ì„œ ìˆ  ë¨¹ìê³  í•©ë‹ˆë‹¤. ê·¼ë° ê·¸ ìë¦¬ì— ë‹¹ì‹ ì´ ëª¨ë¥´ëŠ” ì‚¬ëŒë„ ê»´ìˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì€ ì°¸ì„í•˜ì‹¤ê±´ê°€ìš”?", a: "E", b: "I" },  // EI
      q2: { text: "ëˆˆì„ ê°ê³  ì ì— ì²­í•˜ê¸° ì „ê¹Œì§€ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ë‚˜ìš”?", a: "N", b: "S" },   // SN
      q3: { text: "ë‹¹ì‹ ì€ ë¦¬ì•¡ì…˜ì´ í° í¸ì¸ê°€ìš”?", a: "ã……", b: "T" },        // TF
      q4: { text: "ë‹¹ì‹ ì€ í•œë‹¬ í•´ì™¸ì—¬í–‰ì„ ë– ë‚˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ ì—¬í–‰ì— ëŒ€í•œ ì§ì„ ì´í‹€ ì „ë¶€í„° ì±™ê¸°ë‚˜ìš”?", a: "J", b: "P" }     // JP
    };

    const answers = {}; // ì‚¬ìš©ìì˜ ì‘ë‹µì„ ì €ì¥í•  ê°ì²´

    // ê° MBTI í•­ëª© ì„ íƒ ì‹œ ì ìˆ˜ ì¦ê°€ (í•­ëª©ì´ ë§ì•„ì§ˆ ê²½ìš° ìœ ìš©!)
    const score = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };

    const quizEl = document.getElementById("quiz");
    const resultEl = document.getElementById("result");

    function renderQuestions() {

        for(let k in questions){
            console.log(questions[k]);
            const quiz = document.createElement('div');
            quiz.className = "question";
            quiz.innerHTML = `
                <p class="options">${questions[k].text}</p>
                <div class="options">
                    <input type="radio" id="${k}_yes" name="${k}" value="yes">
                    <label for="${k}_yes" >Yes</label>
                    <input type="radio" id="${k}_no" name="${k}" value="no">
                    <label for="${k}_no" >No</label>
                </div>


            `;
            quizEl.appendChild(quiz);
        
            const radios = quiz.querySelectorAll(`input[name="${k}"]`);
            radios.forEach(radio => {
                radio.addEventListener('change', () => {
                const selected = quiz.querySelector(`input[name="${k}"]:checked`);
                //console.log(questions[`${k}`])
                if(selected.value === "yes"){
                    score[questions[`${k}`].a]=1;
                    score[questions[`${k}`].b]=0;
                }
                if(selected.value === "no"){
                    score[questions[`${k}`].a]=0;
                    score[questions[`${k}`].b]=1;
                }
                const allAnswered = Object.keys(questions).every(key => {
                    return document.querySelector(`input[name="${key}"]:checked`);
                });

                if (allAnswered) {
                    showResult(score);
                }
                });
                
            });
        }
      // Object.entries
      // Object.keys
      // ëª¨ë“  ì§ˆë¬¸ì— ì‘ë‹µ ì™„ë£Œí•˜ë©´ ê²°ê³¼ í‘œì‹œ
    }

    function showResult() {
        //console.log(Object.entries(score));
        //console.log(Object.keys(questions).length);
        for(let i=0;i<(Object.keys(questions).length)*2;i=i+2){
            if(Object.values(score)[i]==1){
                answers[i] = Object.keys(score)[i];
            } else{
                answers[i] = Object.keys(score)[i+1];
            }
        }
        console.log(Object.values(answers).join(''));
        const result = Object.values(answers).join('');
        resultEl.textContent = `ë‹¹ì‹ ì˜ MBTIëŠ” ${result}ì…ë‹ˆë‹¤!`

      // Object.values
      // ì‚¬ìš©ì ì‘ë‹µì„ ë°˜ë³µí•˜ë©° í•´ë‹¹ ì§€í‘œì˜ ì ìˆ˜ ì¦ê°€
      // ê° í•­ëª©ë³„ ì ìˆ˜ ë¹„êµ í›„ MBTI 4ìë¦¬ ë¬¸ìì—´ ìƒì„±
    }
    renderQuestions();
  </script>

</body>

</html>
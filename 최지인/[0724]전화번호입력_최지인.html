<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<!-- https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/String/split, https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/String/substring, https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/String/slice#indexstart -->

<body>
  <form>
    <div style="display:flex ; flex-direction: column; width: 500px;">
      <h1>ğŸš¨íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</h1>
      <label>íœ´ëŒ€í° ë²ˆí˜¸&nbsp<input type="tel" id="telInput" placeholder="í•˜ì´í”ˆ(-)ì„ ë„£ì–´ ì…ë ¥í•´ì£¼ì„¸ìš”."></label>
      <br>
      <button type="button" onclick="checkEntry()" style="width: 300px;">ì…ë ¥ì™„ë£Œ</button>
      <p id="message"></p>
    </div>
  </form>

</body>
<script>
  function checkEntry() {
    const tel = document.getElementById("telInput").value;
    const message = document.getElementById("message");
    //3.4.4ë¡œ ì…ë ¥ë˜ì§€ ì•Šìœ¼ë©´ ì˜¤ë¥˜ ë©”ì‹œì§€ ì¶œë ¥
    //-?ëŠ” í•˜ì´í”ˆì´ ìˆì„ ìˆ˜ë„ ì—†ì„ ìˆ˜ë„ ìˆë‹¤ëŠ” ëœ».
    if (!/^\d{3}-?\d{4}-?\d{4}$/.test(tel) || tel === "") {
      message.innerHTML = "ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”.";

    }
    else {
      message.innerHTML = "í™•ì¸";
    }

    //ì¸í’‹ê°’ì˜ ê°’ì„ ê°€ì§€ê³  ì˜¤ë©´ ë¨. valueë¥¼ ê°€ì§€ê³  ì™€ì„œ í•˜ì´í”ˆì´ ì—†ìœ¼ë©´
    //í…ìŠ¤íŠ¸ë¥¼ ìë¥´ëŠ” ë¬¸ìì—´ slice,
    //ë¬¸ìë¥¼ ì˜ë¼ì„œ í•˜ì´í”ˆì„ ë¶™ì—¬ì„œ ì¬ë°°í•©
    if (!tel.includes("-") && tel.length == 11) {
      const part1 = tel.slice(0, 3);
      const part2 = tel.slice(3, 7);
      const part3 = tel.slice(7, 11);

      //input í™”ë©´ì„ ë‹¤ì‹œ ë°”ê¾¸ëŠ” ê²ƒ.
      document.getElementById("telInput").value = `${part1}-${part2}-${part3}`;
    }

    // console.log(typeof tel);
  }
</script>

</html>
